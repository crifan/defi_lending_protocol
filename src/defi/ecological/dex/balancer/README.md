# Balancer

* Balancer 
  * 项目类型 
    * DEX=去中心化交易所 
  * 支持公链 
    * 以太坊生态的 3 条公链 
  * TVL 
    * 15 亿美元 
  * 项目定位 
    * 面向 B 端用户（项目方、资管方）的去中心化交易所 
  * 项目优势 
    * Balancer 目前深耕资产管理领域，因此目前 Balancer 还是稳坐资产管理底层设施的头把交椅 
  * 运作机制 
    * 为了满足 B 端用户的使用场景，Balancer 的系统架构非常特殊，采用了资金池 + 可插拔的交易池这样的松耦合形式，同时提供了独具特色的资金管理功能，可有效提高资金利用效率。 
  * 系统架构 
    * Balancer 没有采用大多数 DEX 常用的将资金和交易池合并为一个合约的方式，而是将所有 Balancer 上面所有的资产都整合到了名为 Balancer Vault 的合约中，交易池合约中只留有交易逻辑。在这种模式下，交易池更像是一个个插件 
    * Balancer 的架构变成了资金池 + 可插拔的交易池这样的松耦合形式 
    * 这种架构主要有下列三种好处： 
      * （1）低 Gas 跨池套利：当多笔交易发生时，合约只记录交易过程和金额，所有交易执行完毕结算时，以最终结果从 vault 中转移资产，有点类似于 BTC 的闪电网络 
      * （2）虚拟内部持仓：允许用户持有虚拟的 Vault 份额，例如用户持有 USDC，他计划先换成 DAI，然后之后（例如几个小时后）换成 BAL。他可以将 USDC 换成 DAI，但这部分 DAI 的份额保留在 Vault 中，不转到用户的地址，再在几小时后将该份额换成 BAL，并从 Vault 中提取最终的 BAL。也能起到节省 Gas 的效果 
      * （3）闪电交易（Flash Swap）：和闪电贷类似，交易者可以在不持有任何资产的情况下，同一个区块内，在 Balancer 各池完成套利并偿还贷款和对应的手续费，提高池子再平衡（rebalance）的效率 
  * 特色功能 
    * 资金管理是 Balancer 作为 Dex 独具的特色功能，可以有效提高资金利用率，为 LP 带来更多的收入 
      * （1）为了提升资金的利用率，Uniswap V3 和 Curve V2 选择了截然不同的道路。Uniswap V3 引入了区间流动性的功能，LP 可以自定义提供流动性的区间，人为优化资金使用率（就像我们开网格交易自定义区间和间距类似）。而 Curve V2 采用了优化曲线的策略，将大量流动性集中在一个小区间内，并根据价格和流动性的变化动态调整，做到无需人为接入的自动化调节。 
      * （2）Balancer 则选择了截然不同的方式，他通过内置资产管理者（Asset Manager）的功能，允许被授权的资产管理者从池子中提取一部分资金，将该资金转入许可的（白名单内）第三方协议中产生额外收益，从而提高闲置资金的收益率。例如稳定币的兑换池，一天只需要不到 30% 就能使得各稳定币之间几乎无滑点交易，那剩余的 70% 资金，就可以转入例如 AAVE，Compound 这样的借贷协议中进行放贷，产生额外的收益。 
